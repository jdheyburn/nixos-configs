# GitCommitMsg - adds the JIRA ticketed branch named to the commit message
unalias gcmsg # remove the existing gcmsg
function gcmsg() {
    setopt local_options BASH_REMATCH

    local msg=$@
    if [ -z "$msg" ]; then
        echo "gcmsg - no message was provided"
        return 1
    fi

    local curr_branch=$(git_current_branch)
    local regex="^[A-Z]{2,}\-[0-9]+"
    if [[ $curr_branch =~ $regex ]]; then
        local ticket="${BASH_REMATCH[1]}"
        local msg="$ticket - $msg"
    fi

    git commit -m "$msg"
}

if [ -n "$\{commands[fzf-share]\}" ]; then
    source "$(fzf-share)/key-bindings.zsh"
    source "$(fzf-share)/completion.zsh"
fi

